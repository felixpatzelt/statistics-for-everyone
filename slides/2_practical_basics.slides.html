<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />


<title>2_practical_basics slides</title>




<!-- General and theme style sheets -->
<link rel="stylesheet" href="reveal.js/dist/reveal.css">
<link rel="stylesheet" href="reveal.js/dist/theme/statistics-for-everyone-slides.css" id="theme">
<link rel="stylesheet" href="custom.css" id="custom"></head>
<body>
<div class="reveal">
<div class="slides"><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h2 id="Practical-basics">Practical basics<a class="anchor-link" href="#Practical-basics">&#182;</a></h2><p>It is easy to calculate the quantities we encounter most often in statistics!</p>
<!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[2]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/x-mathjax-config&quot;</span><span class="p">&gt;</span>
<span class="nx">MathJax</span><span class="p">.</span><span class="nx">Hub</span><span class="p">.</span><span class="nx">Config</span><span class="p">({</span>
    <span class="s2">&quot;HTML-CSS&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="nx">mtextFontInherit</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>


<!--block output_group-->


<!--block outputs-->

<!--block output-->

    
<!--block output_area_prompt-->


<!--block data_html scoped-->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    "HTML-CSS" : {
        mtextFontInherit: true,
    }
});
</script>




<!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[3]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># for the exercises only</span>
<span class="kn">from</span> <span class="nn">helpers.cards</span> <span class="kn">import</span> <span class="n">draw_cards</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Markdown</span> <span class="k">as</span> <span class="n">md</span>
</pre></div>

</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="How-to-characterise-a-sample-of-quantitative-observations?">How to characterise a sample of quantitative observations?<a class="anchor-link" href="#How-to-characterise-a-sample-of-quantitative-observations?">&#182;</a></h3><ul>
<li><strong>Central tendency</strong>: where are the observed values?</li>
<li><strong>Dispersion</strong>: how far apart are the observed values?</li>
</ul>
</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="For-example,-imagine-drawing-coins-from-a-pocket">For example, imagine drawing coins from a pocket<a class="anchor-link" href="#For-example,-imagine-drawing-coins-from-a-pocket">&#182;</a></h3><ul>
<li>How much is each new coin worth?</li>
<li>How certain are we about that value?</li>
</ul>
<p>Let's start with an example of 5 coins...</p>
</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="Measures-of-central-tendency">Measures of central tendency<a class="anchor-link" href="#Measures-of-central-tendency">&#182;</a></h3><!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[4]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SVGImg</span><span class="p">(</span><span class="s1">&#39;images/coins_central_tendency.svg&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;70%&#39;</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="s1">&#39;slides&#39;</span><span class="p">)</span>
</pre></div>


<!--block output_group-->


<!--block outputs-->

<!--block output-->

    
<!--block output_area_prompt-->Out[4]:

<!--block execute_result !!-->
<!--block data_html scoped-->

            <object type="image/svg+xml" data="images/coins_central_tendency.svg" style="width: 70%; height: 100%; margin: auto;">
                <img src="images/coins_central_tendency.svg" width="70%" height="100%"></img>
            </object>
            
<!--end block execute result !!-->


</section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h2 id="*">*<a class="anchor-link" href="#*">&#182;</a></h2><p>If there is an even number of observations in our sample, <br>the median is in between the two central ones:</p>
<ul>
<li>median([5,5,<strong>10</strong>,20,20]) = <strong>10</strong></li>
<li>median([5,5,<strong>10</strong>,<strong>20</strong>,20,20]) = (<strong>10</strong>+<strong>20</strong>) / 2 = 15</li>
</ul>
<p>See e.g. <a href="https://en.wikipedia.org/wiki/Central_tendency">https://en.wikipedia.org/wiki/Central_tendency</a> for details <br>on these and other measures of central tendency.</p>
</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="Measures-of-dispersion">Measures of dispersion<a class="anchor-link" href="#Measures-of-dispersion">&#182;</a></h3><!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[5]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SVGImg</span><span class="p">(</span><span class="s1">&#39;images/coins_dispersion.svg&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;70%&#39;</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="s1">&#39;slides&#39;</span><span class="p">)</span>
</pre></div>


<!--block output_group-->


<!--block outputs-->

<!--block output-->

    
<!--block output_area_prompt-->Out[5]:

<!--block execute_result !!-->
<!--block data_html scoped-->

            <object type="image/svg+xml" data="images/coins_dispersion.svg" style="width: 70%; height: 100%; margin: auto;">
                <img src="images/coins_dispersion.svg" width="70%" height="100%"></img>
            </object>
            
<!--end block execute result !!-->


</section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><p>See e.g. <a href="https://en.wikipedia.org/wiki/Statistical_dispersion">https://en.wikipedia.org/wiki/Statistical_dispersion</a> for details <br>on these and other measures of dispersion.</p>
</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="We-usually-have-incomplete-information-about-the-world">We usually have incomplete information about the world<a class="anchor-link" href="#We-usually-have-incomplete-information-about-the-world">&#182;</a></h3><ul>
<li>We can know the values of all the coins in our pocket.</li>
<li>What about all the coins in a vault? We might not have the time to look at them all!</li>
<li>We can still estimate the true statistics of a <strong>population</strong> <br> (e.g. all coins in a vault, all cards in a stack, ...) <br>from a representative <strong>sample</strong> that we draw in an experiment.</li>
</ul>
</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3>The sample estimate of the population mean<br> is just the sample mean!</h3>
<ul>
<li>The sample mean is the sum of values divided by number of samples.</li>
<li>This is exactly the mean that we calculated above for the values of the five coins!</li>
</ul>
</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="The-sample-variance-is-a-biased-estimate-of-the-population-variance!">The sample variance is a biased estimate of the population variance!<a class="anchor-link" href="#The-sample-variance-is-a-biased-estimate-of-the-population-variance!">&#182;</a></h3><!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[6]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SVGImg</span><span class="p">(</span><span class="s1">&#39;images/population_vs_sample.svg&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="s1">&#39;slides&#39;</span><span class="p">)</span>
</pre></div>


<!--block output_group-->


<!--block outputs-->

<!--block output-->

    
<!--block output_area_prompt-->Out[6]:

<!--block execute_result !!-->
<!--block data_html scoped-->

            <object type="image/svg+xml" data="images/population_vs_sample.svg" style="width: 100%; height: 100%; margin: auto;">
                <img src="images/population_vs_sample.svg" width="100%" height="100%"></img>
            </object>
            
<!--end block execute result !!-->


</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="All-estimates-have-errors">All estimates have errors<a class="anchor-link" href="#All-estimates-have-errors">&#182;</a></h3><p>We often estimate the population mean from a sample. The uncertainty of this estimate is quantified by the "standard error" and calculated as follows $^{*▾}$:</p>
<p>$\text{Standard Error} = \sqrt{\frac{\text{Population Variance}}{\text{Sample Size}}}$.</p>
<p>With the estimated population variance of our 5 coins, we obtain:</p>
<p>$\text{Standard Error (coin example)} = \sqrt{\frac{\text{45}}{\text{5}}} = \sqrt{\text{9}} = \text{3}$.</p>
</section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="*The-standard-error-is-still-only-an-approximation">*The standard error is still only an approximation<a class="anchor-link" href="#*The-standard-error-is-still-only-an-approximation">&#182;</a></h3><ul>
<li>It can also be written as population standard deviation divided by the square root of the number of observations.</li>
<li>In contrast to the variance, the <a href="https://en.wikipedia.org/wiki/Unbiased_estimation_of_standard_deviation">standard deviation still has a bias</a> because the square root is a curved function.</li>
<li>There are specific corrections for a number of scenarios</li>
<li>Knowing approximately how precise your estimate of the mean is much better than knowing nothing about it!</li>
</ul>
</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="We-now-can-answer-our-initial-question:">We now can answer our initial question:<a class="anchor-link" href="#We-now-can-answer-our-initial-question:">&#182;</a></h3><p><strong>Mean ± 2 Standard Errors</strong> is a common way to state an estimate and its uncertainty.</p>
<ul>
<li><p>In the example with 5 coins, we can say we expect the value of taking one coin out of the pocket is 13 ± 6 cents.</p>
</li>
<li><p>Lower or higher confidence levels are used for some applications. In these cases 1, 3, or more standard errors are <a href="https://en.wikipedia.org/wiki/68–95–99.7_rule">reported</a>.</p>
</li>
</ul>
</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="Two-standard-errors-are-approximately-equal-to-the-95%-confidence-interval">Two standard errors are approximately equal to the 95% confidence interval<a class="anchor-link" href="#Two-standard-errors-are-approximately-equal-to-the-95%-confidence-interval">&#182;</a></h3><ul>
<li>The 95% confidence interval (CI) contains the population mean with 95% probability.</li>
<li>Often used as the size for error bars - but always check the description of a figure!</li>
<li>Allows to test if a <strong>mean is different from an exact number</strong> with a <strong>5 error rate</strong>.</li>
<li>This can be useful to test if an effect is significantly different from 0.</li>
</ul>
<!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[7]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SVGImg</span><span class="p">(</span><span class="s1">&#39;images/error_bars_ci.svg&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;50%&#39;</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="s1">&#39;slides&#39;</span><span class="p">)</span>
</pre></div>


<!--block output_group-->


<!--block outputs-->

<!--block output-->

    
<!--block output_area_prompt-->Out[7]:

<!--block execute_result !!-->
<!--block data_html scoped-->

            <object type="image/svg+xml" data="images/error_bars_ci.svg" style="width: 50%; height: 100%; margin: auto;">
                <img src="images/error_bars_ci.svg" width="50%" height="100%"></img>
            </object>
            
<!--end block execute result !!-->


</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="We-often-use-confidence-intervals-as-error-bars">We often use confidence intervals as error bars<a class="anchor-link" href="#We-often-use-confidence-intervals-as-error-bars">&#182;</a></h3><ul>
<li>The 95% confidence interval is approximately 2 standard errors (or 1.96).</li>
<li>If the bars don't overlap, we assume that the observed means different with <br>a 1% error rate.</li>
<li>This is what we looked at in the the card experiment in <a href="1_introductory_card_experiment.slides.html">section one</a>.</li>
<li>Smaller or bigger error bars can be useful <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2064100/">depending on the use case</a></li>
<li>There are other tests for significance that we will discuss in a followup</li>
</ul>
<!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[8]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SVGImg</span><span class="p">(</span><span class="s1">&#39;images/error_bars.svg&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;50%&#39;</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="s1">&#39;slides&#39;</span><span class="p">)</span>
</pre></div>


<!--block output_group-->


<!--block outputs-->

<!--block output-->

    
<!--block output_area_prompt-->Out[8]:

<!--block execute_result !!-->
<!--block data_html scoped-->

            <object type="image/svg+xml" data="images/error_bars.svg" style="width: 50%; height: 100%; margin: auto;">
                <img src="images/error_bars.svg" width="50%" height="100%"></img>
            </object>
            
<!--end block execute result !!-->


</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="Try-it!">Try it!<a class="anchor-link" href="#Try-it!">&#182;</a></h3><!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[9]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># infinite population &amp; random sample</span>
<span class="c1"># ===================================    </span>
<span class="n">plot_population_vs_sample_mean</span><span class="p">()</span>
</pre></div>


<!--block output_group-->


<!--block outputs-->

<!--block output-->

    
<!--block output_area_prompt-->


<!--block data_html scoped-->

<div id="altair-viz-c364b03c11264ee7a5862cde19595da8"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-c364b03c11264ee7a5862cde19595da8") {
      outputDiv = document.getElementById("altair-viz-c364b03c11264ee7a5862cde19595da8");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"title": {"fontSize": 24.0, "font": ["Lato", "Helvetica Neue", "Helvetica", "Arial", "Sans Serif"], "fontWeight": "normal"}, "axisX": {"labelFont": ["Lato", "Helvetica Neue", "Helvetica", "Arial", "Sans Serif"], "labelFontSize": 16, "titleFont": ["Lato", "Helvetica Neue", "Helvetica", "Arial", "Sans Serif"], "titleFontSize": 16, "titleFontWeight": "normal", "titlePadding": 10}, "axisY": {"labelFont": ["Lato", "Helvetica Neue", "Helvetica", "Arial", "Sans Serif"], "labelFontSize": 16, "titleFont": ["Lato", "Helvetica Neue", "Helvetica", "Arial", "Sans Serif"], "titleFontSize": 16, "titleFontWeight": "normal", "titlePadding": 10}, "legend": {"labelFont": ["Lato", "Helvetica Neue", "Helvetica", "Arial", "Sans Serif"], "labelFontSize": 16, "titleFont": ["Lato", "Helvetica Neue", "Helvetica", "Arial", "Sans Serif"], "titleFontSize": 16, "titleFontWeight": "normal"}, "text": {"font": ["Lato", "Helvetica Neue", "Helvetica", "Arial", "Sans Serif"], "fontSize": 14.4}}, "vconcat": [{"layer": [{"mark": {"type": "errorbar", "color": "red", "rule": {"size": 1.5}, "ticks": true}, "encoding": {"x": {"type": "quantitative", "axis": {"domain": false, "labels": false, "orient": "top", "ticks": false, "title": "Population mean \u00b1 expected sample uncertainty"}, "field": "xmin"}, "x2": {"field": "xmax"}}, "selection": {"selector003": {"type": "single", "bind": {"input": "range", "min": 10, "max": 200, "step": 1, "name": "Sample size"}, "init": {"samples": 50}}, "selector002": {"type": "single", "bind": {"input": "range", "min": 0.1, "max": 5, "step": 0.1, "name": "Pop. Std."}, "init": {"std": 1.5}}, "selector001": {"type": "single", "bind": {"input": "range", "min": -5, "max": 5, "step": 0.1, "name": "Pop. mean"}, "init": {"mean": 0}}}}, {"mark": {"type": "point", "color": "red", "filled": true, "size": 20, "stroke": null}, "encoding": {"x": {"type": "quantitative", "axis": {"title": ""}, "field": "mean", "scale": {"domain": [-10, 10]}}}}], "data": {"name": "data-a34019366e793aa5e70591f9693d64a7"}, "transform": [{"calculate": "selector001['mean']", "as": "mean"}, {"calculate": "selector002['std']", "as": "std"}, {"calculate": "selector003['samples']", "as": "samples"}, {"calculate": "selector004['ses']", "as": "ses"}, {"calculate": "+datum.mean - datum.ses * datum.std / sqrt(+datum.samples)", "as": "xmin"}, {"calculate": "+datum.mean + datum.ses * datum.std / sqrt(+datum.samples)", "as": "xmax"}], "view": {"strokeWidth": 0}, "width": 500}, {"vconcat": [{"layer": [{"mark": {"type": "errorbar", "rule": {"size": 1.5}, "ticks": true}, "encoding": {"x": {"type": "quantitative", "axis": {"domain": false, "labels": false, "orient": "top", "ticks": false, "title": "Sample mean \u00b1 sample uncertainty"}, "field": "bar_min", "scale": {"domain": [-10, 10]}}, "x2": {"field": "bar_max"}}, "selection": {"selector004": {"type": "single", "bind": {"input": "range", "min": 1, "max": 3, "step": 1, "name": "Show std. errors"}, "init": {"ses": 2}}, "selector003": {"type": "single", "bind": {"input": "range", "min": 10, "max": 200, "step": 1, "name": "Sample size"}, "init": {"samples": 50}}, "selector002": {"type": "single", "bind": {"input": "range", "min": 0.1, "max": 5, "step": 0.1, "name": "Pop. Std."}, "init": {"std": 1.5}}, "selector001": {"type": "single", "bind": {"input": "range", "min": -5, "max": 5, "step": 0.1, "name": "Pop. mean"}, "init": {"mean": 0}}}}, {"mark": {"type": "point", "filled": true, "size": 20, "stroke": null}, "encoding": {"x": {"type": "quantitative", "field": "sample_mean"}}}], "transform": [{"aggregate": [{"op": "mean", "field": "x", "as": "sample_mean"}, {"op": "stderr", "field": "x", "as": "sample_err"}]}, {"calculate": "selector004['ses']", "as": "ses"}, {"calculate": "+datum.sample_mean - datum.ses * datum.sample_err", "as": "bar_min"}, {"calculate": "+datum.sample_mean + datum.ses * datum.sample_err", "as": "bar_max"}], "view": {"strokeWidth": 0}, "width": 500}, {"mark": {"type": "bar", "clip": true}, "encoding": {"x": {"type": "quantitative", "axis": {"domain": false, "labels": false, "orient": "top", "ticks": false, "title": "Sample Histogram"}, "bin": {}, "field": "x", "scale": {"domain": [-10, 10]}}, "y": {"type": "quantitative", "aggregate": "count", "title": "Count"}}, "height": 100, "selection": {"selector004": {"type": "single", "bind": {"input": "range", "min": 1, "max": 3, "step": 1, "name": "Show std. errors"}, "init": {"ses": 2}}, "selector003": {"type": "single", "bind": {"input": "range", "min": 10, "max": 200, "step": 1, "name": "Sample size"}, "init": {"samples": 50}}, "selector002": {"type": "single", "bind": {"input": "range", "min": 0.1, "max": 5, "step": 0.1, "name": "Pop. Std."}, "init": {"std": 1.5}}, "selector001": {"type": "single", "bind": {"input": "range", "min": -5, "max": 5, "step": 0.1, "name": "Pop. mean"}, "init": {"mean": 0}}}, "width": 500}, {"mark": {"type": "tick", "clip": true}, "encoding": {"x": {"type": "quantitative", "axis": {"title": "Sample Values"}, "field": "x", "scale": {"domain": [-10, 10]}}}, "selection": {"selector004": {"type": "single", "bind": {"input": "range", "min": 1, "max": 3, "step": 1, "name": "Show std. errors"}, "init": {"ses": 2}}, "selector003": {"type": "single", "bind": {"input": "range", "min": 10, "max": 200, "step": 1, "name": "Sample size"}, "init": {"samples": 50}}, "selector002": {"type": "single", "bind": {"input": "range", "min": 0.1, "max": 5, "step": 0.1, "name": "Pop. Std."}, "init": {"std": 1.5}}, "selector001": {"type": "single", "bind": {"input": "range", "min": -5, "max": 5, "step": 0.1, "name": "Pop. mean"}, "init": {"mean": 0}}}, "view": {"strokeWidth": 0}, "width": 500}], "data": {"sequence": {"start": 0, "stop": 200, "as": "t"}}, "transform": [{"filter": "(datum.t <= toNumber(selector003.samples))"}, {"calculate": "selector001['mean']", "as": "mean"}, {"calculate": "selector002['std']", "as": "std"}, {"calculate": "sampleNormal(+datum.mean,+datum.std)", "as": "x"}]}], "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-a34019366e793aa5e70591f9693d64a7": [{"x": 1}]}}, {"actions": false, "renderer": "svg", "mode": "vega-lite"});
</script>




<!--block markdowncell scoped--><!--block empty_in_prompt--><p>Each time you change the parameters, new samples are drawn from a normal distribution.<br>
The latter is also called Gaussian or bell curve and we will hear more about it later.</p>
</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="Notice-that-the...">Notice that the...<a class="anchor-link" href="#Notice-that-the...">&#182;</a></h3><ul>
<li><strong>uncertainty goes up</strong> proportionally to the <strong>population standard deviation</strong> (std.)</li>
<li><strong>uncertainty goes down</strong> proportionally to the square root of the <strong>sample size</strong>: fast for small sample sizes and then slower and slower.</li>
<li><strong>error bars of sample mean and population mean</strong> overlap for <strong>99%</strong> of the samples when they show <strong>2 standard errors</strong></li>
<li><strong>true population mean is inside the sample error bars</strong> for <strong>95%</strong> of the samples when they show <strong>2 standard errors</strong>.</li>
</ul>
</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h2 id="In-the-next-session,-we-will-discover...">In the next session, we will discover...<a class="anchor-link" href="#In-the-next-session,-we-will-discover...">&#182;</a></h2><ul>
<li>distributions, which describe the probabilities of all possible results in a sample or population. </li>
<li>why the normal (or Gaussian) distribution is so important.</li>
</ul>
<p>Go to <a href="3_distributions.slides.html">next session</a> or continue for some exercises on the following slides.</p>
</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h2 id="Exercises">Exercises<a class="anchor-link" href="#Exercises">&#182;</a></h2><p>Complete the following exercises to become more familiar with the contents of this session.</p>
<!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[10]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># simple examples to calculate mostly mentally</span>
<span class="n">coin_example_samples</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1">#[5, 10, 10, 20, 20], # we already did this one</span>
    <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
    <span class="p">[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,],</span>
<span class="p">]</span>
</pre></div>

</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="1.-Drawing-coins">1. Drawing coins<a class="anchor-link" href="#1.-Drawing-coins">&#182;</a></h3><p>Calculate mean, median, standard deviation, and standard error for the following samples. You can do it just like it was explained above.</p>
<!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[11]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">print_example_statistics</span><span class="p">(</span><span class="n">coin_example_samples</span><span class="p">,</span> <span class="n">print_only_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>


<!--block output_group-->


<!--block outputs-->

<!--block output-->

    
<!--block output_area_prompt-->

<!--block stream_stdout-->
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain">
<pre>Values in sample:           [2, 10, 10, 10, 50, 50]
Values in sample:           [1, 1, 2, 2, 10, 20]
</pre>
</div>



<!--block markdowncell scoped--><!--block empty_in_prompt--><p>Solutions are on the next slide. Feel free to use your calculator or favourite software!</p>
</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="Solutions-to-exercise-1">Solutions to exercise 1<a class="anchor-link" href="#Solutions-to-exercise-1">&#182;</a></h3><!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[12]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">print_example_statistics</span><span class="p">(</span><span class="n">coin_example_samples</span><span class="p">)</span>
</pre></div>


<!--block output_group-->


<!--block outputs-->

<!--block output-->

    
<!--block output_area_prompt-->

<!--block stream_stdout-->
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain">
<pre>Values in sample:           [2, 10, 10, 10, 50, 50]
Sum of values:              132
Mean:                       22.0
Median:                     10.0
Sum of deviations:          2400.0
Sample Variance:            400.0
Sample Standard deviation:  20.0
Population Variance:        480.0
Pop. Standard deviation:    21.909
Standard error:             8.944

Values in sample:           [1, 1, 2, 2, 10, 20]
Sum of values:              36
Mean:                       6.0
Median:                     2.0
Sum of deviations:          294.0
Sample Variance:            49.0
Sample Standard deviation:  7.0
Population Variance:        58.8
Pop. Standard deviation:    7.668
Standard error:             3.13

</pre>
</div>


</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="2.-Drawing-cards">2. Drawing cards<a class="anchor-link" href="#2.-Drawing-cards">&#182;</a></h3><p>In section 1, we had an example where we drew cards.</p>
<!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[13]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stack_1_cards</span><span class="p">,</span> <span class="n">stack_2_cards</span> <span class="o">=</span> <span class="n">draw_cards</span><span class="p">(</span>
    <span class="n">p_win_1</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span>
    <span class="n">p_win_2</span> <span class="o">=</span> <span class="mf">0.38</span><span class="p">,</span>
    <span class="n">n_cards</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">seed</span>    <span class="o">=</span> <span class="mi">0</span>
<span class="p">)</span>
<span class="n">n_cards_small_experiment</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">n_cards_bigger_experiment</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>

<!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[14]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">md</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;- We drew </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">stack_1_cards</span><span class="p">[:</span><span class="n">n_cards_small_experiment</span><span class="p">])</span><span class="si">}</span><span class="s2"> cards &quot;</span>
    <span class="sa">f</span><span class="s2">&quot;and we got </span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="n">stack_1_cards</span><span class="p">[:</span><span class="n">n_cards_small_experiment</span><span class="p">])</span><span class="si">}</span><span class="s2"> wins for the first stack &quot;</span>
    <span class="sa">f</span><span class="s2">&quot;and </span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="n">stack_2_cards</span><span class="p">[:</span><span class="n">n_cards_small_experiment</span><span class="p">])</span><span class="si">}</span><span class="s2"> for the second one.</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;- We drew </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">stack_1_cards</span><span class="p">)</span><span class="si">}</span><span class="s2"> cards and we got </span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="n">stack_1_cards</span><span class="p">)</span><span class="si">}</span><span class="s2"> wins &quot;</span>
    <span class="sa">f</span><span class="s2">&quot;for the first stack and </span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="n">stack_2_cards</span><span class="p">)</span><span class="si">}</span><span class="s2"> for the second one.&quot;</span>
<span class="p">)</span>
</pre></div>


<!--block output_group-->


<!--block outputs-->

<!--block output-->

    
<!--block output_area_prompt-->Out[14]:

<!--block execute_result !!-->
<!--block data_markdown scoped-->
<div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/markdown">
<ul>
<li>We drew 15 cards and we got 8 wins for the first stack and 10 for the second one.</li>
<li>We drew 100 cards and we got 56 wins for the first stack and 34 for the second one.</li>
</ul>

</div>
<!--end block execute result !!-->



<!--block markdowncell scoped--><!--block empty_in_prompt--><p>Calculate the winning probabilities and standard errors for both stacks for both experiments.</p>
<ul>
<li>Write the results down in the notation mean ±2 standard errors.</li>
<li>Can you remember when the difference was significant and why?</li>
<li>Try to round to <a href="https://en.wikipedia.org/wiki/Significant_figures">significant digits</a>. If your value is e.g. 0.12345 ± 0.05432, you only report 0.12 ± 0.05!</li>
</ul>
<p>The solution is on the next slide</p>
</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="Solution-to-exercise-2">Solution to exercise 2<a class="anchor-link" href="#Solution-to-exercise-2">&#182;</a></h3><!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[16]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># but this way might be more educational</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>

<span class="k">def</span> <span class="nf">report_winning_probabilities_with_errors</span><span class="p">(</span>
        <span class="n">n_cards</span><span class="p">,</span> <span class="n">stack_1_wins</span><span class="p">,</span> <span class="n">stack_2_wins</span>
    <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return results for a card experiment including significant digits of mean ± standard error as markdown&quot;&quot;&quot;</span>
    <span class="c1"># check this code - we do the calculations just like on the slide where we explained them</span>
    <span class="c1"># of course it would be faster and more concise to use e.g. the mean and std functions from numpy</span>
    
    <span class="c1"># winning probabilities - same as taking a mean</span>
    <span class="n">stack_1_p_win</span> <span class="o">=</span> <span class="n">stack_1_wins</span> <span class="o">/</span> <span class="n">n_cards</span>
    <span class="n">stack_2_p_win</span> <span class="o">=</span> <span class="n">stack_2_wins</span> <span class="o">/</span> <span class="n">n_cards</span>
    
    <span class="c1"># the educational way to calculate the variance</span>
    <span class="n">stack_1_pop_var</span> <span class="o">=</span> <span class="p">(</span><span class="n">stack_1_wins</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">stack_1_p_win</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">n_cards</span> <span class="o">-</span> <span class="n">stack_1_wins</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">0</span> <span class="o">-</span> <span class="n">stack_1_p_win</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">n_cards</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">stack_2_pop_var</span> <span class="o">=</span> <span class="p">(</span><span class="n">stack_2_wins</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">stack_2_p_win</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">n_cards</span> <span class="o">-</span> <span class="n">stack_2_wins</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">0</span> <span class="o">-</span> <span class="n">stack_2_p_win</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">n_cards</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    
    <span class="n">stack_1_pop_std</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">stack_1_pop_var</span><span class="p">)</span>
    <span class="n">stack_2_pop_std</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">stack_2_pop_var</span><span class="p">)</span>
    
    <span class="n">stack_1_se</span> <span class="o">=</span> <span class="n">stack_1_pop_std</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">n_cards</span><span class="p">)</span>
    <span class="n">stack_2_se</span> <span class="o">=</span> <span class="n">stack_2_pop_std</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">n_cards</span><span class="p">)</span>
    
    <span class="n">n_significant_digits</span> <span class="o">=</span> <span class="o">-</span><span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">stack_1_se</span><span class="p">)))</span>

    <span class="k">if</span> <span class="n">stack_1_p_win</span> <span class="o">+</span> <span class="mf">1.96</span> <span class="o">*</span> <span class="n">stack_1_se</span> <span class="o">&lt;</span>  <span class="n">stack_2_p_win</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">stack_2_se</span><span class="p">:</span>
        <span class="n">conclusion</span> <span class="o">=</span> <span class="s2">&quot;Stack 1 has a significantly higher winning probability than stack 2 (p &lt; 5%)&quot;</span>
    <span class="k">elif</span> <span class="n">stack_1_p_win</span> <span class="o">-</span> <span class="mi">196</span> <span class="o">*</span> <span class="n">stack_1_se</span> <span class="o">&gt;</span>  <span class="n">stack_2_p_win</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">stack_2_se</span><span class="p">:</span>
        <span class="n">conclusion</span> <span class="o">=</span> <span class="s2">&quot;Stack 1 has a significantly higher winning probability than stack 2 (p &lt; 5%)&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">conclusion</span> <span class="o">=</span> <span class="s2">&quot;We can&#39;t decide which stack has a higher winning probability&quot;</span>
    
    <span class="k">return</span> <span class="n">md</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Drawing </span><span class="si">{</span><span class="n">n_cards</span><span class="si">}</span><span class="s2"> cards:</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;- Stack 1 has </span><span class="si">{</span><span class="n">stack_1_wins</span><span class="si">}</span><span class="s2"> wins</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;- Stack 2 has </span><span class="si">{</span><span class="n">stack_2_wins</span><span class="si">}</span><span class="s2"> wins</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;- Stack 1 winning probabiltiy: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">stack_1_p_win</span><span class="p">,</span> <span class="n">n_significant_digits</span><span class="p">)</span><span class="si">}</span><span class="s2"> ± </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">stack_1_se</span><span class="p">,</span> <span class="n">n_significant_digits</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;- Stack 2 winning probabiltiy: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">stack_2_p_win</span><span class="p">,</span> <span class="n">n_significant_digits</span><span class="p">)</span><span class="si">}</span><span class="s2"> ± </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">stack_2_se</span><span class="p">,</span> <span class="n">n_significant_digits</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="s2">&quot;- &quot;</span>
        <span class="o">+</span> <span class="n">conclusion</span>
     <span class="p">)</span>
</pre></div>

<!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[17]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_cards</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">stack_1_wins</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">stack_1_cards</span><span class="p">[:</span><span class="n">n_cards</span><span class="p">])</span>
<span class="n">stack_2_wins</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">stack_2_cards</span><span class="p">[:</span><span class="n">n_cards</span><span class="p">])</span>

<span class="n">report_winning_probabilities_with_errors</span><span class="p">(</span><span class="n">n_cards</span><span class="p">,</span> <span class="n">stack_1_wins</span><span class="p">,</span> <span class="n">stack_2_wins</span><span class="p">)</span>
</pre></div>


<!--block output_group-->


<!--block outputs-->

<!--block output-->

    
<!--block output_area_prompt-->Out[17]:

<!--block execute_result !!-->
<!--block data_markdown scoped-->
<div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/markdown">
<p>Drawing 15 cards:</p>
<ul>
<li>Stack 1 has 8 wins</li>
<li>Stack 2 has 10 wins</li>
<li>Stack 1 winning probabiltiy: 0.5 ± 0.3</li>
<li>Stack 2 winning probabiltiy: 0.7 ± 0.3</li>
<li>We can't decide which stack has a higher winning probability</li>
</ul>

</div>
<!--end block execute result !!-->


<!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[18]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_cards</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">stack_1_wins</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">stack_1_cards</span><span class="p">[:</span><span class="n">n_cards</span><span class="p">])</span>
<span class="n">stack_2_wins</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">stack_2_cards</span><span class="p">[:</span><span class="n">n_cards</span><span class="p">])</span>

<span class="n">report_winning_probabilities_with_errors</span><span class="p">(</span><span class="n">n_cards</span><span class="p">,</span> <span class="n">stack_1_wins</span><span class="p">,</span> <span class="n">stack_2_wins</span><span class="p">)</span>
</pre></div>


<!--block output_group-->


<!--block outputs-->

<!--block output-->

    
<!--block output_area_prompt-->Out[18]:

<!--block execute_result !!-->
<!--block data_markdown scoped-->
<div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/markdown">
<p>Drawing 100 cards:</p>
<ul>
<li>Stack 1 has 56 wins</li>
<li>Stack 2 has 34 wins</li>
<li>Stack 1 winning probabiltiy: 0.56 ± 0.1</li>
<li>Stack 2 winning probabiltiy: 0.34 ± 0.1</li>
<li>We can't decide which stack has a higher winning probability</li>
</ul>

</div>
<!--end block execute result !!-->


</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="3.-Explore-your-favourite-software">3. Explore your favourite software<a class="anchor-link" href="#3.-Explore-your-favourite-software">&#182;</a></h3><ul>
<li>Find out if the software you use for spreadsheets, Business Intelligence, or programming has these functions built in:<ul>
<li>Mean</li>
<li>Median</li>
<li>Standard Deviation</li>
<li>Standard Error</li>
</ul>
</li>
</ul>
<ul>
<li>Find out how to use your favourite plotting software to draw a bar chart with error bars</li>
</ul>
</section></section><section><section>
<!--block markdowncell scoped--><!--block empty_in_prompt--><h3 id="5.-Use-mathematical-notation-for-the-same-calculations.">5. Use mathematical notation for the same calculations.<a class="anchor-link" href="#5.-Use-mathematical-notation-for-the-same-calculations.">&#182;</a></h3><p>We often use the symbol $\mu$ for the mean. Consider a sample $s$ with $n$ values $x_1, x_2, \dots, x_n$. We can call its mean $\mu_s$. We can write the calculation using the <a href="https://www.youtube.com/watch?v=5jwXThH6fg4">symbol</a> $\sum$ for <a href="https://en.wikipedia.org/wiki/Summation">summation</a>:</p>
$$\mu_{s} = \frac{1}{n} \sum_{i = 1}^{n} x_i = \frac{x_1 + x_2 + \dots + x_n}{n}$$<p>A common symbol for the standard deviation is $\sigma$. The variance is $\sigma^2$. Its calculation was described above, but as an equation it is much more concise:</p>
$$\sigma_s^2 = \frac{1}{n-1} \sum_{i = 1}^{n} (x_i - \mu_s)^2$$<p>If we know the mean $\mu_p$ of a population $p$, the variance becomes</p>
$$\sigma_{s,p}^2 = \frac{1}{n} \sum_{i = 1}^{n} (x_i - \mu_p)^2$$<p>Finally the standard error of the mean of the sample is</p>
$$\sigma_{\mu_{s}} = \frac{\sigma_s}{\sqrt{n}}$$<p>$ $</p>
<!--block codecell-->
<!--block input_group-->
<!--block in_prompt-->In&nbsp;[&nbsp;]:
<!--block input-->
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

</section></section>
</div>
</div>
</body>


<script src="reveal.js/dist/reveal.js"></script>
<script>
Reveal.initialize();
</script>

</html>
